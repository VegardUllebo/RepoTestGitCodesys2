{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)6da30b86-14a4-4bce-bf5d-2bee212317e2","ParentGuid":"(Guid)7d694963-c4d1-4352-8594-a20401544c44","Name":"(string)SBV","Properties":{"@Type":"2c41fa04:IDictionary","@Value":{}},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)//INFO, COPYRIGHT MANGOIPA GROUP INC\n//SBV function block\n\n\n//Populate Temporaries and preset outputs\n\n\ttbXGH \t\t\t\t\t\t\t\t:= XGH;\n    tbXGL \t\t\t\t\t\t\t\t:= XGL;    \n    tbXH\t\t\t\t\t\t\t\t:= XH;            \n    tbXL\t\t\t\t\t\t\t\t:= XL;   \n\ttbXOH\t\t\t\t\t\t\t\t:= XOH;     \n\ttbXOL\t\t\t\t\t\t\t\t:= XOL;           \n\ttbXF\t\t\t\t\t\t\t\t:= XF;            \n\ttbLSH\t\t\t\t\t\t\t\t:= LSH;           \n\ttbLSL\t\t\t\t\t\t\t\t:= LSL;           \n\ttbFSH\t\t\t\t\t\t\t\t:= FSH;           \n    tbFSL\t\t\t\t\t\t\t\t:= FSL;            \n    tbFDH\t\t\t\t\t\t\t\t:= FDH;            \n    tbFDL\t\t\t\t\t\t\t\t:= FDL;            \n\ttbFB\t\t\t\t\t\t\t\t:= FB;            \n\ttbFU\t\t\t\t\t\t\t\t:= FU;            \n\ttbLA\t\t\t\t\t\t\t\t:= LA;              \n\ttbLM\t\t\t\t\t\t\t\t:= LM;             \n\ttbLO\t\t\t\t\t\t\t\t:= LO;       \n\n// Timers\nTimerTransLow();\t\t\t\t\t\t\t\t\t\t\t// Timer for transition to low fault\nTimerTransHigh();\t\t\t\t\t\t\t\t\t\t\t// Timer for transition to high fault\nTimerFeedbackLow();\t\t\t\t\t\t\t\t\t\t\t// Timer for no feedback low fault\nTimerFeedbackHigh();\t\t\t\t\t\t\t\t\t\t// Timer for no feedback high fault\nOutputPulsHigh();\t\t\t\t\t\t\t\t\t\t \t// Timer for puls YH\nOutputPulsLow();\t\t\t\t\t\t\t\t\t\t\t// Timer for puls YL\n\n//Timer parameters (should be behind a restart function?)\nTimerTransLow.PTDH\t\t\t\t\t\t:= PTDH;\nTimerTransHigh.PTDH \t\t\t\t\t:= PTDL;\nTimerFeedbackLow.PTDH\t\t\t\t\t:= PFFD;\nTimerFeedbackHigh.PTDH\t\t\t\t\t:= PFFD;\nOutputPulsHigh.PT\t\t\t\t\t\t:= PTTO;\nOutputPulsLow.PT\t\t\t\t\t\t:= PTTC;\n\n\n// Handle external faults, subject to supression\nIF (tbXF AND NOT tbFU) THEN\n\ttiYFI \t\t\t\t\t\t\t\t:= ciExternalFault;\nEND_IF\n\n\n// Handle High output puls YH / YL\nIF NOT (siState = ciTransitHigh) THEN\n\tOutputPulsHigh.IN \t\t\t\t\t:= FALSE;\nEND_IF\n\nIF NOT (siState = ciTransitLow) THEN\n\tOutputPulsLow.IN \t\t\t\t\t:= FALSE;\nEND_IF\n\n\n// Handle lock safeguard mode, subject to blocking\nIF (tbLSL AND NOT tbFB) THEN\n\tsbBA \t\t\t\t\t\t\t\t:= FALSE;\t\t\t// Set mode to manual\nELSIF (tbLSH AND NOT tbFB) THEN\n\tsbBA \t\t\t\t\t\t\t\t:= FALSE;\t\t\t// Set mode to manual\nEND_IF\n\n\n// Mode Control - AUTO/MAN\nIF tbLM AND NOT sbLM  THEN\n    sbBA                       \t\t\t:= FALSE;\t\t\t// Manual mode, BA = 0\nELSIF tbLA AND NOT sbLA THEN\n    sbBA                       \t\t\t:= TRUE; \t    \t// Auto mode posetive edge,\tBA = 1\nEND_IF;\n\nsbLA \t\t\t\t\t\t\t\t\t:= tbLA;\t\t\t// Retrigger posetive edge for Mode Control.\nsbLM \t\t\t\t\t\t\t\t\t:= tbLM;\t\t\t// Retrigger posetive edge for Mode Control.\n\n// Mode Controll - Outside/Local mode.\nIF tbLO THEN\t\t\n\ttbBO \t\t\t\t\t\t\t\t:= TRUE;\t\t\t// Sets status outside and force off auto-mode\n\tsbBA \t\t\t\t\t\t\t\t:= FALSE;\n\t\n\tCASE PSLO OF\t\t\t\t\t\t\t\t\t\t\t// Case for Parameter for setting local/outside\n\tciModeLocal:\t\n\t\ttbOutsideLocal\t\t\t\t    := TRUE;\t\t\t// Switches the block between High and Low in local mode from XGH/XGL\n\t\tIF tbXGH THEN\n\t\t\tsiState \t\t\t\t\t:= ciHigh;\n\t\tELSIF tbXGL THEN\t\t\t\n\t\t\tsiState\t\t\t\t\t    := ciLow;\n\t\tEND_IF\n\t\t\t\t\n\tciModeOutside: \t\t\t\t\t\t\t\t\t\t\t// If in outside mode, XOH/XOL will controll the block\n\ttbOutsideLocal \t\t\t\t\t\t:= FALSE;\n\t//\n\tEND_CASE\nELSE\n\ttbBO \t\t\t\t\t\t\t\t:= FALSE;\t\t\t\t\t\t\t\nEND_IF\t\n\n\n// Handling safeguarding BS status, triggered by any Safeguarding\nIF (tbLSH OR tbLSL OR tbFSH OR tbFSL) THEN\n\ttbBS \t\t\t\t\t\t\t\t:= TRUE;\nELSE\n\ttbBS \t\t\t\t\t\t\t\t:= FALSE;\nEND_IF\n\n// Handling blocking BB status\nIF (tbFB OR OS_FB) THEN\n\ttbBB \t\t\t\t\t\t\t\t:= TRUE;\nELSE\n\ttbBB \t\t\t\t\t\t\t\t:= FALSE;\nEND_IF\n\n//Blocking blocks safeguard and disable transition modes\nIF tbBB THEN\n\ttbLSL \t\t\t\t\t\t\t\t:= FALSE;\n\ttbLSH\t\t\t\t\t\t\t    := FALSE;\n\ttbFSL \t\t\t\t\t\t\t\t:= FALSE;\n\ttbFSH \t\t\t\t\t\t\t\t:= FALSE;\n\ttbFDH \t\t\t\t\t\t\t\t:= FALSE;\n\ttbFDL \t\t\t\t\t\t\t\t:= FALSE;\nEND_IF\n\n// Handling supression BU status ON/OFF\nIF (tbFU OR OS_FU) THEN\n\ttbBU  \t\t\t\t\t\t\t\t:= TRUE;\t\nELSE\n\ttbBU \t\t\t\t\t\t\t\t:= FALSE;\nEND_IF\n\n// Handles supression and PFT (Parameter feedback type)\nIF tbBU AND NOT sbBUpos THEN\n\tsiFBlastvalue \t\t\t\t\t\t:= PFT;\t\t\t\t\t\t// Stores PFT before supression sets to \"no feedback\" on posetive edge\n\tPFT\t\t\t\t\t\t\t\t\t:= ciNoFeedback;\nEND_IF\n\nIF NOT tbBU AND sbBUneg THEN\t\t\t\t\t\t\t\t\t\t// sets PFT to last value on negative edge\n\tPFT \t\t\t\t\t\t\t\t:= siFBlastValue;\nEND_IF\n\nsbBUpos\t\t\t\t\t\t\t\t\t:= tbBU;\t\t\t\t\t// Posetive edge retrigger\nsbBUneg \t\t\t\t\t\t\t\t:= tbBU;    \t\t\t\t// Negative edge retrigger\n\n\n//High and low commands evaluation (AUTO & MANUAL & OUTSIDE & LSL & LSH FDL & FDH\ntbLowCommand                 \t\t    := (tbXL AND sbBA) OR \t\t\t\t\t\t\t\t\t\t// Auto \n\t\t\t\t\t\t\t\t \t\t   (OS_XLM AND NOT sbBA AND NOT tbBO) OR \t\t\t\t\t// Manuell (Triggered by XLM supressed by Auto & Outside mode)\n\t\t\t\t\t\t\t\t \t\t   (tbBO AND tbXOL AND NOT tbOutsideLocal) OR \t\t\t\t// Outside (Triggered by XOL if in not local outside mode)\t\n\t\t\t\t\t\t\t\t \t\t   (tbLSL AND NOT tbFB) OR\t\t\t\t\t\t\t\t\t// Lock Safeguard Low subject by blocking\n\t\t\t\t\t\t\t\t \t\t   (tbFSL AND NOT tbFB);\t\t\t\t\t\t\t\t\t// Force safeguard Low subject by blocking\n\t\t\t\t\t\t\t\t\t\t\t\t\n\ntbHighCommand                 \t\t\t:= (tbXH AND sbBA) OR \t\t\t\t\t\t\t\t\t\t// Auto\n\t\t\t\t\t\t\t\t           (OS_XHM AND NOT sbBA AND NOT tbBO AND NOT tbBS) OR \t\t// Manuell (Triggered by XLM supressed by Auto & Outside mode\n\t\t\t\t\t\t\t\t           (tbBO AND tbXOH AND NOT tbOutsideLocal) OR \t\t\t\t// Outside (Triggered by XOL if in not local outside mode)\n\t\t\t\t\t\t\t\t           (tbLSH AND NOT tbFB) OR\t\t\t\t\t\t\t\t\t// Lock Safeguard Low subject by blocking\n\t\t\t\t\t\t\t\t           (tbFSH AND NOT tbFB);\t\t\t\t\t\t\t\t\t// Force safeguard Low subject by blocking\n\t\t\t\t\t\t\t\t\t\t\t\n\n// Handle force disable high command and low command\nIF tbFDH AND NOT tbFB THEN\n    tbHighCommand            \t\t\t:= FALSE;   \t\t\t\t//If FDH is true then erase high command, prevent transit to high\nEND_IF;\n\nIF tbFDL AND NOT tbFB THEN\n    tbLowCommand             \t\t\t:= FALSE;   \t\t\t\t//If FDL is true then erase low command, prevent transit to low\nEND_IF;\n\n// Handle Force safeguard commands\nIF tbFSL THEN\n    tbHighCommand            \t\t\t:= FALSE;\n    tbLowCommand              \t\t\t:= NOT tbXGL;    \t\t\t// As long as FSL is true and not correct feedback, force transit to low\n\t\nELSIF tbFSH THEN\t\t\t\t\t\t\t\t\t\t\t\t\t// I manuell skal den ha Y = 0 (lukka) etter FSL er ute. (Høgkant OS_XLH?)\n    tbHighCommand             \t\t\t:= NOT tbXGH;   \t\t\t// As long as FSH is true and not correct feedback, force transit to high\n    tbLowCommand              \t\t\t:= FALSE;\n\t\n// I manuell skal den ha Y = 1 (lukka) etter FSL er ute.\nEND_IF;\n\n// Handle conlfict fault when safeguarding and blocking.\nIF (tbBS AND tbBB) THEN\n\ttiYFI \t\t\t\t\t\t\t    := ciConflictFault;\nEND_IF\n\n// Handle parameter action on fault\nIF sbYF THEN\n\tCASE PAOF OF \n\t\tciNoAction:\t\t\t\t\t\t\t\t\t   \t\t\t     // No action on fault\t\t\t\n\t\t\tsbYF \t\t\t\t\t\t:= sbYF;\t\t\n\t\tciClose:\t\t\t\t\t\t\t\t\t\t\t\t\t // Close\n\t\t\ttbLowCommand \t\t\t\t:= TRUE;\t\t\n\t\tciOpen:\t\t\t\t\t\t\t\t\t\t\t\t\t\t // Open\n\t\t\ttbHighCommand \t\t\t\t:= TRUE;\t\t\n\tEND_CASE\t\nEND_IF\n\n\n// Handle parameter feedbacks - Sets the mode of feedback\nCASE PFT OF\n\tciNoFeedback:\n\t\ttbXGH \t\t\t\t\t\t\t:= (siState = ciHigh) OR (siState = ciTransitHigh);\t// If no feedback mode, the state sets the XGH/XGL direct\t\t\t\n\t\ttbXGL \t\t\t\t\t\t\t:= (siState = ciLOW)  OR (siState = ciTransitlow);\n\tciHighFeedback:\n\t\ttbXGL \t\t\t\t\t\t\t:= (siState = ciLOW)  OR (siState = ciTransitlow);\t// If no High feedback, the transition or low state sets XGL direct\n\tciLowFeedback:\n\t\ttbXGH \t\t\t\t\t\t\t:= (siState = ciHigh) OR (siState = ciTransitHigh);\t// If no High feedback, the transition or high state sets XGH direct\n\tciFullFeedback:\n\t\ttbXGH \t\t\t\t\t\t\t:= tbXGH;\n\t\ttbXGL := tbXGL;\nEND_CASE;\n\n\n//Determine next state\nIF tbHighCommand THEN\n    siNextState              \t\t    := ciHigh;\nELSIF tbLowCommand THEN\n    siNextState              \t\t    := ciLow;\nEnd_If;\n\n\n//Tilstandsmaskina \nCASE siState OF \n\t//INIT STATE\n\tciInitState:\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Initial state, sets some parameters for startup\n\t\n\tCASE PSUM OF\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Sets the Statup mode.\n\t\t\tciModeStartupManual\t\t: \n\t\t\t\tsbBA \t\t\t\t\t:= FALSE;\n\t\t\t\t\t\t\t\n\t\t\tciModeStartupAuto\t\t: \n\t\t\t\tsbBA \t\t\t\t\t:= TRUE;\t\n\t\t\n\t\t\tciModeStartupPrev\t\t: \n\t\t\t\tsbBA \t\t\t\t\t:= sbBA;\n\tEND_CASE\n\t\n\t//Sets the startup state of the block - Parameter Template Startup State\n\tCASE PSUS OF\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\tciStartupClosed\t\t:  \n\t\t\tsiState := ciLow;\n\t\t\t\n\t\tciStartupOpen\t\t:  \n\t\t\tsiState := ciHigh;\n\t\t\t\n\t\tciStartupFeedback\t:  \t\t\t\t\t\t\t\t\t\t\t// If feedback state, XGL/XGH determines the start state of the block\n\t\t\tIF tbXGH THEN\n\t\t\t\tsiState\t\t\t\t\t:= ciHigh;\n\t\t\tELSIF XGL THEN\n\t\t\t\tsiState \t\t\t\t:= ciLow;\t\t\n\t\t\tEND_IF\n\tEND_CASE\n\t\n\t// Case for handling next state\n\tCASE siNextState OF\n\t\tciHigh: \n\t\t\tsiState\t\t\t\t\t\t:= ciTransitHigh;\n\t\t\t\n\t\tciLow :\t\n\t\t\tsiState \t\t \t\t\t:= ciTransitLow;\t\t\n\tEND_CASE\t\n\t\n\t// LOW STATE \n\tciLow:\t\n\t\n\t\tIF (NOT tbXGL OR tbXGH) THEN\t\t\t\t\t\t\t\t\t// Faulthandling if no feedback detected\t\n\t\t    TimerFeedbackLow.X := TRUE;\n\t\n            IF TimerFeedbackLow.Y THEN\t\t\t\t\t\t\t\t\t// Starts the timer if missing feedback detected\n                tiYFI           \t\t:= ciFeedbackFaultLow;\n            END_IF;\n        ELSE\n            TimerFeedbackLow.X := FALSE;\t\t\t\t\t\t\t\t// Resets timer if feedback returns\n        End_If;\n\n        CASE siNextState OF\t\t\t\t\t\t\t\t\t\t\t\t// Sets the next state\n            ciHigh :                \n                siState      \t\t \t:= ciTransitHigh;\n        END_CASE;\n\t\n\t// TRANSIT HIGH STATE\t\n\tciTransitHigh:\n\t\t\n\t\tTimerTransHigh.X \t\t\t\t:= TRUE;\t\t\t\t\t\t// Sets timer for allowed time before feedback\n\t\tOutputPulsHigh.IN \t\t\t    := TRUE;\t\t\t\t\t\t// Sets timer for puls output\n\t\t\t\t\n\t\tIF tbXGH THEN\t\t\t\t\t\t\t\t\t\t\t\t\t// Feedback detected, resets timers and changes state\n\t\t\tTimerTransHigh.X \t\t    := FALSE;\n\t\t\tsiState           \t\t    := ciHigh;\n\t\tEND_IF\t\t\t\n\t\n\t\tIF (TimerTransHigh.Y) THEN\t\t\t\t\t\t\t\t\t\t// Handles no feedback fault\n\t\t\ttiYFI\t\t\t\t\t\t:= ciTransitHighFault;\n\t\tEND_IF\n\t\t\n\t\tCASE siNextState OF\t\t\t\t\t\t\t\t\t\t\t\t// Changes state \n            ciLow :                \n                siState     \t\t    := ciTransitLow;\n        End_Case;\n\t\t\n\tciHigh:\n\t//HIGH STATE\t\n\t    IF (NOT tbXGH OR tbXGL) THEN\t\t\t\t\t\t\t\t\t// Faulthandling when no feedback\t\t\t\n            TimerFeedbackHigh.X \t\t:= TRUE;\t\t\t\t\t\t// Starts timer when no feedback\n\t\t\t\n            IF TimerFeedbackHigh.Y THEN\t\t\t\t\t\t\t\t\t// Faulthandling of timer\n                tiYFI           \t\t:= ciFeedbackFaultHigh;\n            END_IF;\n        ELSE\n            TimerFeedbackHigh.X \t\t:= FALSE;\t\t\t\t\t\t// Resets timer if feedback returns\n        End_If;\n\t\t\n        CASE siNextState OF\t\t\t\t\t\t\t\t\t\t\t\t// Changes states \n            ciLow :\n                siState       \t\t  \t:= ciTransitLow;\n        End_Case;\n\t\n\tciTransitLow:\n\t//TRANSIT LOW\n\t\tTimerTransLow.X \t\t\t\t:= TRUE;\t\t\t\t\t\t// Starts timer for transit \n\t\tOutputPulsLow.IN \t\t\t\t:= TRUE;\t\t\t\t\t\t// Starts timer for pulse YL\n\t\n\t\tIF tbXGL THEN\t\n\t\t\tTimerTransLow.X \t\t\t:= FALSE;\t\t\t\t\t\t// Reset timer if feedback\n\t\t\tsiState          \t\t\t:= ciLOW;\t\t\t\t\t\t// Changes from transit to Low \n\t\tEND_IF\n\t\t\n\t\t\tIF (TimerTransLow.Y) THEN\t\t\t\t\t\t\t\t\t// Faulthandling if no feedback\n\t\t\t\ttiYFI\t\t\t\t\t:= ciTransitLowFault;\t\n\t\t\tEND_IF\n\t\t\n\t\tCASE siNextState OF\t\t\t\t\t\t\t\t\t\t\t\t// Changes states \n            ciHigh :                \n                siState      \t\t \t:= ciTransitHigh;\n        End_Case;\t\n\nEND_CASE\n\n// Safeguard fault if safeguard and no feedback fault\nIF (tbBS AND ((tiYFI = ciFeedbackFaultHigh) OR (tiYFI = ciFeedbackFaultLow))) THEN\n\ttiYFI \t\t\t\t\t\t\t    := ciSafeguardFault;\nEND_IF;\n\n// FAULT handling\nsbYF \t\t\t\t\t\t\t\t\t:= (tiYFI > ciNoFault);\n\n//Handle supression of YF\nIF tbBU THEN\n\tsbYF\t\t\t\t\t\t\t    := FALSE;\nEND_IF\n\n\n//Write to output //TATT FRA OLAV DIREKTE\nY\t\t\t\t\t\t\t\t\t\t:= \t(siState = ciTransitHigh) OR ((siState = ciHigh));\nYH                            \t\t\t:=\tOutputPulsHigh.Q OR (PSTO AND (siState = ciTransitHigh)) ;\nYL                           \t\t\t:= \tOutputPulsLow.Q OR (PSTO AND (siState = ciTransitLow)) ;\nBA\t\t\t\t\t\t\t\t\t\t:= \tsbBA;\nBU\t\t\t\t\t\t\t\t\t\t:=  tbBU;\nYF                           \t\t\t:= \t(sbYF);\nYFI\t\t\t\t\t\t\t\t\t\t:=  tiYFI;\nBCH                          \t\t\t:= \t(siState = ciHigh) AND tbXGH AND NOT tbXGL;\nBCL                         \t\t\t:= \t(siState = ciLow) AND tbXGL AND NOT tbXGH;\nBS\t\t\t\t\t\t\t\t\t\t:=  tbBS;\n\n//Write to HMI\n","LineInfoPersistence":"(string)6da30b86-14a4-4bce-bf5d-2bee212317e2_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)FUNCTION_BLOCK SBV\nVAR_INPUT\n\tXGH            : BOOL;                \t\t // eXternal Position High\n    XGL            : BOOL;                \t\t // eXternal Position Low\n    XH             : BOOL;                \t\t // eXternal Switch to Position High - in automatic mode\n    XL             : BOOL;                \t\t // eXternal Switch to Position Low - in automatic mode\n\tXOH            : BOOL;               \t\t // eXternal Switch to Posistion High - in local/outside mode\n\tXOL            : BOOL;               \t\t // eXternal Switch to Posistion Low - in local/outside mode\n\tXF             : BOOL;                 \t\t // eXternal Fault \n\tLSH            : BOOL;               \t\t // Lock Safeguard High\n\tLSL            : BOOL;               \t\t // Lock Safeguard Low\n\tFSH            : BOOL;                \t\t // Force Safeguarding High\n    FSL            : BOOL;                \t\t // [Priority] Force Safeguarding Low\n    FDH            : BOOL;              \t\t // Force Disable High\n    FDL            : BOOL;             \t\t     // [Priority] Force Disable Low\n\tFB             : BOOL;             \t\t     // Force Block\t\n\tFU             : BOOL;\t\t\t\t\t\t // Force Supression\n\tLA             : BOOL;               \t\t // Set Auto\n\tLM             : BOOL;               \t\t // [Priority 2]Set Manual\n\tLO             : BOOL;               \t\t // [Priority 1]Set Outside\n    //RX             : BOOL;               \t\t // Reset Fault\t\nEND_VAR\n\nVAR_INPUT RETAIN \t\t\t\t\t\t\t\t// \n    PFFD           \t: TIME := T#5S;       \t\t// Feedback failure delay\n    PTDH           \t: TIME := T#5S;        \t  \t// Transit delay low to high\n    PTDL           \t: TIME := T#5S;       \t\t// Transit delay high to low\n    PSTO           \t: BOOL;               \t\t// Output YH and YL  constant on.\n\tPTTO\t\t\t: TIME := T#2000MS;\t\t\t// PULS output open YH\n\tPTTC\t\t\t: TIME := T#2000MS;\t\t\t// PULS output close YL\n\tPAOF\t\t\t: INT  := 0;\t\t\t\t// Parameter action on fault.\n\tPFT\t\t\t\t: INT  := 3;\t\t\t\t// Parameter feedback type\n\tPSUS\t\t\t: INT  := 0;\t\t\t\t// Parameter Template Startup State \n\tPSUM\t\t\t: INT  := 0;\t\t\t\t// Parameter for mode at startup\n\tPSLO\t\t\t: INT  := 0;\t\t\t\t// Parameter for setting local or outside mode\nEND_VAR\n\nVAR_OUTPUT\n\tY              : BOOL;                \t\t// \n\tYH             : BOOL;               \t\t// Normal output to switch control element to high state\n    YL             : BOOL;                \t\t// Normal output to switch control element to low state\n    YF             : BOOL;                \t\t// Control element fault\n    BCH            : BOOL;               \t\t// Binary status confirmed high\n    BCL            : BOOL;                \t\t// Binary status confirmed low\n\tBS             : BOOL;                \t\t// Binary status safeguarding\n\tBB             : BOOL;                \t\t// Binary status blocked\n\tBU             : BOOL;               \t\t// Binary status suppressed\n    BA             : BOOL;               \t\t// Binary status automatic mode\n\tBO             : BOOL;                \t\t// \n   // BM             : Bool := true;        \t// Binary status manual mode    \n   // BD             : Bool;                \t// Binary status disabled\n    YFI            : INT;               \t\t// Fault information\nEND_VAR\n\nVAR RETAIN\n\t\n\tsbBA           \t\t : BOOL;               \t// Binary status automatic mode, RETAINED for prevstate.\n\nEND_VAR\n\n\nVAR\n\tsiState       \t\t : INT;                 // State of controlled element\n    siNextState   \t\t : INT;                 // Next state of controlled element\n\t\n\tsbLA\t\t\t\t: BOOL;\t\t\t\t\t// Set auto variable\n\tsbLM\t\t\t\t: BOOL;\t\t\t\t\t// Set manual variable\n\t\n\tOS_FB\t\t\t\t: BOOL;\t\t\t\t\t// HMI Force block\n\tOS_FU\t\t\t\t: BOOL;\t\t\t\t\t// HMI Force supress\n\tOS_XLM\t\t\t\t: BOOL;\t\t\t\t\t// HMI Set low\n\tOS_XHM\t\t\t\t: BOOL;\t\t\t\t\t// HMI Set high\n\t\n\tTimerTransLow\t\t: fbTimer;\t\t\t\t// Timer trans low error\n\tTimerTransHigh\t\t: fbTimer;\t\t\t\t// Timer trans high erreor\n\tTimerFeedbackLow\t: fbTimer;\t\t\t\t// Timer no feedback low error\n\tTimerFeedbackHigh\t: fbTimer;\t\t\t\t// Timer no feedback high error\n\tOutputPulsHigh\t\t: TP;\n\tOutputPulsLow\t\t: TP;\n\t\n\t\n\tsbYF            : BOOL;\t\t\t\t\t\t// Output fault variable\n\tsbBUpos\t\t\t: BOOL;\t\t\t\t\t\t// Binary supressed posetive flank variable\n\tsbBUneg\t\t\t: BOOL;\t\t\t\t\t\t// Binary supressed negative flank variable\n\t\n\tsiFBlastvalue\t: INT;\t\t\t\t\t\t// \nEND_VAR\n\nVAR_TEMP\n\n\ttbHighCommand  \t\t: BOOL;                 // High command\n    tbLowCommand   \t\t: BOOL;                 // Low Command\n\ttbOutsideLocal\t\t: BOOL;\t\t\t\t\t// Interlock of starting object when in local mode\n\t\n\t// INPUTS\n\ttbXGH            : BOOL;                \t// eXternal Position High variable\n    tbXGL            : BOOL;                \t// eXternal Position Low variable\n    tbXH             : BOOL;                \t// eXternal Switch to Position High - in automatic mode variable\n    tbXL             : BOOL;                \t// eXternal Switch to Position Low - in automatic mode variable\n\ttbXOH            : BOOL;               \t\t// eXternal Switch to Position High - In outside mode variable\n\ttbXOL            : BOOL;               \t\t// eXternal Switch to Position LOW - In outside mode variable\n\ttbXF             : BOOL;                 \t// eXternal Fault variable\n\ttbLSH            : BOOL;               \t\t// Lock Safeguard High variable \n\ttbLSL            : BOOL;               \t\t// Lock Sagefuard Low variable \n\ttbFSH            : BOOL;                \t// Force Safeguarding High\n    tbFSL            : BOOL;                \t// [Priority] Force Safeguarding Low\n    tbFDH            : BOOL;              \t\t// Force Disable High\n    tbFDL            : BOOL;             \t\t// [Priority] Force Disable Low\n\ttbFB             : BOOL;             \t\t// Force Blocking variable\n\ttbFU             : BOOL;\t\t\t\t\t// Force Supression variable\n\ttbLA             : BOOL;               \t\t// Lock Auto variable\n\ttbLM             : BOOL;               \t\t// Lock Manuell variable\n\ttbLO             : BOOL;               \t\t// Lock Outside\n\t\n\t\n\t// OUTPUTS\n\ttbY             : BOOL;                \t\t// Output\n\ttbYH            : BOOL;               \t\t// Normal output to switch control element to high state\n    tbYL            : BOOL;                \t\t// Normal output to switch control element to low state    \n    tbBCH           : BOOL;               \t\t// Binary status confirmed high\n    tbBCL           : BOOL;                \t\t// Binary status confirmed low\n\ttbBS            : BOOL;                \t\t// Binary status safeguarding\n\ttbBB            : BOOL;                \t\t// Binary status blocked\n\ttbBU            : BOOL;               \t\t// Binary status supressed\n\ttbBO            : BOOL;                \t\t// Binary status outside\n\ttiYFI\t\t\t:INT;\n\t\nEND_VAR\n\nVAR CONSTANT\n\tciInitState         : INT := 0;             // [FSM] Initial State of Control Element\n    ciLow               : Int := 1;             // [FSM] Control Element in Low state\n    ciTransitHigh       : Int := 2;             // [FSM] Control Element in transit to High state\n    ciHigh              : Int := 3;             // [FSM] Control Element in High state\n    ciTransitLow        : INT := 4;             // [FSM] Control Element in transit to Low state\n\t\n\tciNoFault           : INT := 0;                  // [FAULT] No Fault Indication\n    ciFeedbackFaultHigh : Int := 1;             // [FAULT] Feedback Fault\n    ciFeedbackFaultLow  : Int := 2;             // [FAULT] Feedback Fault\n    ciTransitHighFault  : Int := 3;             // [FAULT] Transit High Fault\n    ciTransitLowFault   : INT := 4;             // [FAULT] Transit Low Fault\n\tciExternalFault\t\t: INT := 5;\t\t\t\t// [FAULT] External fault\n\tciConflictFault\t\t: INT := 6;\t\t\t\t// [FAULT] Conflict fault (Safeguard and blocking)\n\tciSafeguardFault\t: INT := 7;\t\t\t\t// [FAULT] [Priority] Safeguard fault (No feedback while executing safeguard command)\n\t\n\tciNoAction\t\t\t: INT := 0;\t\t\t\t// [PAOF] Parameter action on fault - No action\n\tciClose\t\t\t\t: INT := 1;\t\t\t\t// [PAOF] Parameter action on fault - Closed action\n\tciOpen\t\t\t\t: INT := 2;\t\t\t\t// [PAOF] Parameter action on fault - Open action\n\t\n\tciNoFeedback\t\t: INT := 0;\t\t\t\t// [PFT] Parameter feedback mode - No feedback\n\tciHighFeedback\t\t: INT := 1;\t\t\t\t// [PFT] Parameter feedback mode - High feedback\n\tciLowFeedback\t\t: INT := 2;\t\t\t\t// [PFT] Parameter feedback mode - Low feedback\n\tciFullFeedback\t\t: INT := 3;\t\t\t\t// [PFT] Parameter feedback mode - Full feedback\n\t\n\tciStartupClosed\t\t: INT := 0;\t\t\t\t//\n\tciStartupOpen\t\t: INT := 1;\n\tciStartupFeedback\t: INT := 2;\n\t\n\tciModeStartupManual\t\t: INT := 0;\t\t\t//Sets the mode of the block at startup\n\tciModeStartupAuto\t\t: INT := 1;\t\t\t//Sets the mode of the block at startup\n\tciModeStartupPrev\t\t: INT := 2;\t\t\t//Sets the mode of the block at startup\n\t\n\tciModeLocal\t\t\t\t: INT := 0;\t\t\t// Parameter for setting local mode\n\tciModeOutside\t\t\t: INT := 1;\t\t\t// Parameter for setting outside mode\nEND_VAR\n\n\n\n\n","LineInfoPersistence":"(string)6da30b86-14a4-4bce-bf5d-2bee212317e2_Decl_LineIds"}}}},"UniqueIdGenerator":"(string)1455","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","string":"System.String"}}},"FormatVersion":"1.0"}